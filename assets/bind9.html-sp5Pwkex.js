import{_ as l,c as t,a as s,b as e,f as a,d as p,e as o,r,o as d}from"./app-CH5b4Rii.js";const c="/assets/debian/bind9/001.png",u="/assets/debian/bind9/002.png",b="/assets/debian/bind9/003.png",m={};function k(v,n){const i=r("RouteLink");return d(),t("div",null,[n[5]||(n[5]=s(`<h1 id="instalasi-bind9-dns-server" tabindex="-1"><a class="header-anchor" href="#instalasi-bind9-dns-server"><span>Instalasi BIND9 DNS Server.</span></a></h1><p>Ya ini drama yang berkepanjangan, Thanks to some generious people on the internet dan DigitalOcean, kita ketemu obat terbaik untuk drama ini.</p><div class="hint-container warning"><p class="hint-container-title">Sebelum kita mulai, kita asumsi berbagai hal.</p><ol><li>IP DNS anda serta IP Server anda <code>100.100.25.1/24</code> (Network <code>100.100.25</code> dan Host nya <code>1</code>)</li><li>Anda sudah Update Debian dengan <code>apt update &amp;&amp; apt upgrade</code></li><li>Anda login sebagai <code>root</code></li><li>Hostname saya adalah <code>ruben.net</code>, jadi Hostname kalian berbeda.</li></ol></div><ol><li>Install Bind9 terlebih dahulu bersama teman-temannya, <code>apt install bind9 bind9utils bind9-doc</code></li><li>Sudah install, go ahead dan ganti directory dengan command <code>cd /etc/bind</code></li><li>Jalankan tiga perintah ini</li></ol><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">root@ruben:/etc/bind$ <span class="token function">mkdir</span> zones <span class="token comment"># Membuat folder **zones**</span></span>
<span class="line">root@ruben:/etc/bind$ <span class="token function">cp</span> db.local zones/forward.db <span class="token comment"># Copy file forward ke folder **zones**</span></span>
<span class="line">root@ruben:/etc/bind$ <span class="token function">cp</span> db.127 zones/rev.db <span class="token comment"># Copy file reverse ke folder **zones</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Alasan kita membuat folder khusus agar makin rapi aja hehe.**</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol><li><p>Buka file Forward dengan <code>nano zones/forward.db</code> dan buat perubahan sebagai berikut</p><ul><li>Ubah <code>localhost.</code> menjadi <code>[ruben.net](http://ruben.net)</code> (atau hostname anda)</li><li>Hapus line <code>@ IN AAAA ::1</code></li><li>Ubah <code>127.0.0.1</code> menjadi IP Server anda (misalnya <code>100.100.25.1</code>)</li></ul><p>Jadi seperti ini:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">;</span> BIND data <span class="token function">file</span> <span class="token keyword">for</span> <span class="token builtin class-name">local</span> loopback interface</span>
<span class="line"><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$TTL</span>    <span class="token number">604800</span></span>
<span class="line">@       IN      SOA     ruben.net. root.ruben.net. <span class="token punctuation">(</span></span>
<span class="line">                              <span class="token number">2</span>         <span class="token punctuation">;</span> Serial</span>
<span class="line">                         <span class="token number">604800</span>         <span class="token punctuation">;</span> Refresh</span>
<span class="line">                          <span class="token number">86400</span>         <span class="token punctuation">;</span> Retry</span>
<span class="line">                        <span class="token number">2419200</span>         <span class="token punctuation">;</span> Expire</span>
<span class="line">                         <span class="token number">604800</span> <span class="token punctuation">)</span>       <span class="token punctuation">;</span> Negative Cache TTL</span>
<span class="line"><span class="token punctuation">;</span></span>
<span class="line">@       IN      NS      ruben.net.</span>
<span class="line">@       IN      A       <span class="token number">192.168</span>.25.1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Setelah berurusan dengan file Forward yang sungguh meresahkan, mari kita urus file Reverse, buka dengan <code>nano zones/rev.db</code> dan buat perubahan sebagai berikut</p><ul><li>Ubah <code>localhost.</code> menjadi <code>[ruben.net](http://ruben.net)</code> (atau hostname anda)</li><li>Ganti angka 1.0.0 di <code>1.0.0 IN PTR localhost.</code> menjadi <code>1</code></li></ul><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>üåç Basically, <a href="http://Localhost" target="_blank" rel="noopener noreferrer">Localhost</a> (<code>127.0.0.1</code>) memiliki Subnet 255.0.0.0</p><p><code>127</code> itu Network Section, <code>0.0.1</code> itu Host Section</p><p>More Less like this</p><p><code>172. 0 . 0 . 1</code></p><p><code>255. 0 . 0 . 0</code></p><p>Jadi angka <code>25.168.192</code> yang saya gunakan itu Network Section, kalo <code>1</code> itu Host Section. (Karena saya pakai 255.255.255.0 atau /24 di Notasi CIDR)</p><p>Hopefully, it clears up some confusion.</p></div><p>Hasilnya seperti ini:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">;</span> BIND reverse data <span class="token function">file</span> <span class="token keyword">for</span> <span class="token builtin class-name">local</span> loopback interface</span>
<span class="line"><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$TTL</span>    <span class="token number">604800</span></span>
<span class="line">@       IN      SOA     ruben.net. root.ruben.net. <span class="token punctuation">(</span></span>
<span class="line">                              <span class="token number">1</span>         <span class="token punctuation">;</span> Serial</span>
<span class="line">                         <span class="token number">604800</span>         <span class="token punctuation">;</span> Refresh</span>
<span class="line">                          <span class="token number">86400</span>         <span class="token punctuation">;</span> Retry</span>
<span class="line">                        <span class="token number">2419200</span>         <span class="token punctuation">;</span> Expire</span>
<span class="line">                         <span class="token number">604800</span> <span class="token punctuation">)</span>       <span class="token punctuation">;</span> Negative Cache TTL</span>
<span class="line"><span class="token punctuation">;</span></span>
<span class="line">@       IN      NS      ruben.net.</span>
<span class="line"><span class="token number">1</span>       IN      PTR     ruben.net.</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Saatnya kita bikin dua-dua file ini useful, buka file <code>nano /etc/bind/named.conf.default-zones</code> dan ketik berikut:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">zone <span class="token string">&quot;ruben.net&quot;</span> <span class="token punctuation">{</span> <span class="token comment"># Ganti Domain nya dengan domain kamu!</span></span>
<span class="line">  <span class="token builtin class-name">type</span> master<span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">file</span> <span class="token string">&quot;/etc/bind/zones/forward.db&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">zone <span class="token string">&quot;25.168.192.in-addr.arpa&quot;</span> <span class="token punctuation">{</span> <span class="token comment"># 25.100.100 itu pada dasarnya Network Section (100.100.25) tapi dibalik</span></span>
<span class="line">  <span class="token builtin class-name">type</span> master<span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">file</span> <span class="token string">&quot;/etc/bind/zones/rev.db&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">ü§î si <code>named.conf.local</code> kok nganggur?</p><p>Ternyata <code>named.conf.default-zones</code> tidak boleh sama dengan <code>named.conf.local</code> Stupid Mistakes.</p></div></li><li><p>After enough of that, restart Bind9 Service dengan cara <code>systemctl restart bind9</code></p><div class="hint-container tip"><p class="hint-container-title">‚å®Ô∏è Error bang.</p><p>Perintah <code>named -g</code> bisa membantu mencari Error seperti typo, mudah‚Äùan membantu üôÇ</p></div></li><li><p>Terakhir, selama enp0s8 itu Static, maka DNS Entry harus diedit juga, dengan cara nano <code>/etc/network/interfaces</code> dan ubah entry enp0s8 seperti ini, DING!</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">auto enp0s8</span>
<span class="line">iface enp0s8 inet static</span>
<span class="line">        address <span class="token number">100.100</span>.25.1/24</span>
<span class="line">        nameserver <span class="token number">100.100</span>.25.1 <span class="token comment"># DNS nya 100.100.25.1 (Server Bind9)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Lalu restart dengan <code>service networking restart</code></p></li><li><p>Sekarang, kita tes DNS Server kita dengan menggunakan nslookup, like this <code>nslookup ruben.net</code>. Jika hasilnya seperti ini maka aman:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">Server:  ruben.net</span>
<span class="line">Address:  <span class="token number">100.100</span>.25.1</span>
<span class="line"></span>
<span class="line">Name:    ruben.net</span>
<span class="line">Address:  <span class="token number">100.100</span>.25.1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>Tapi kalo seperti ini berarti salah, coba cabut dulu internet nya tuh.</p><ol><li>Boleh test di komputer, misalnya untuk server web Apache.</li></ol><h2 id="troubleshoot-section" tabindex="-1"><a class="header-anchor" href="#troubleshoot-section"><span>Troubleshoot Section</span></a></h2><h3 id="ip-nya-nggak-benar-bang-di-host-dalam-dan-luar-vm" tabindex="-1"><a class="header-anchor" href="#ip-nya-nggak-benar-bang-di-host-dalam-dan-luar-vm"><span>IP nya nggak benar bang di Host (dalam dan luar VM).</span></a></h3><p>Biasanya DNS yang didapatkan dari DHCP bisa mengalami ‚Äúsedikit‚Äù gangguan, oleh karena itu, putuskan internet, simpel kan?</p><h3 id="ip-nya-nggak-benar-bang-di-host-luar-vm" tabindex="-1"><a class="header-anchor" href="#ip-nya-nggak-benar-bang-di-host-luar-vm"><span>IP nya nggak benar bang di Host (luar VM).</span></a></h3>`,12)),e("p",null,[n[1]||(n[1]=a("Kalo anda ingat dari episode ")),p(i,{to:"/debian/dhcp.html#setel-isc-dhcp-server"},{default:o(()=>n[0]||(n[0]=[a("DHCP Server")])),_:1}),n[2]||(n[2]=a(", kita bisa mengatur DNS Server di ")),n[3]||(n[3]=e("code",null,"option domain-name-servers",-1)),n[4]||(n[4]=a(", Name Servers itu istilah lain dari DNS Server. Pastikan IP nya sama dengan DHCP Server, kalo tidak, bisa juga specify manual dengan cara berikut (Host Only Adaptor)"))]),n[6]||(n[6]=s('<p><img src="'+c+'" alt="Pengaturan DNS Server"></p><p>Pengaturan DNS Server</p><h3 id="apache-nggak-bisa-di-web-browser" tabindex="-1"><a class="header-anchor" href="#apache-nggak-bisa-di-web-browser"><span>Apache nggak bisa di Web Browser</span></a></h3><p>Coba dulu pakai IP Address untuk akses, kalo bisa ada kemungkinan fitur Browser seperti Secure DNS dapat menyebabkan gangguan terhadap DNS Server, untuk mematikannya, berikut caranya:</p><ol><li><p>Microsoft Edge Buka Settings ‚Üí Privacy, search, and services ‚ÜíSecurity ‚Üí Disable <strong>Use secure DNS to specify how to lookup the network address for websites</strong></p><p><img src="'+u+'" alt="Untitled"></p></li><li><p>Google Chrome (Brave juga sama) Buka Settings ‚Üí Privacy and Security ‚Üí Security ‚Üí Disable <strong>Use secure DNS</strong></p><p><img src="'+b+'" alt="Untitled"></p></li></ol>',5))])}const h=l(m,[["render",k],["__file","bind9.html.vue"]]),f=JSON.parse('{"path":"/debian/bind9.html","title":"Instalasi BIND9 DNS Server.","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Troubleshoot Section","slug":"troubleshoot-section","link":"#troubleshoot-section","children":[{"level":3,"title":"IP nya nggak benar bang di Host (dalam dan luar VM).","slug":"ip-nya-nggak-benar-bang-di-host-dalam-dan-luar-vm","link":"#ip-nya-nggak-benar-bang-di-host-dalam-dan-luar-vm","children":[]},{"level":3,"title":"IP nya nggak benar bang di Host (luar VM).","slug":"ip-nya-nggak-benar-bang-di-host-luar-vm","link":"#ip-nya-nggak-benar-bang-di-host-luar-vm","children":[]},{"level":3,"title":"Apache nggak bisa di Web Browser","slug":"apache-nggak-bisa-di-web-browser","link":"#apache-nggak-bisa-di-web-browser","children":[]}]}],"git":{"updatedTime":1705542242000},"filePathRelative":"debian/bind9.md"}');export{h as comp,f as data};
